<!DOCTYPE html>
<html lang="en"
>
<head>
    <title>Sync BillReminder with GNOME clock - Journal of an Open Sourcee</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="https://omaciel.github.io/sync-billreminder-with-gnome-clock.html">

        <meta name="author" content="Og Maciel" />
        <meta name="keywords" content="english" />
        <meta name="description" content="In an attempt to integrate BillReminder to the GNOME clock, I set out to learn about the evolution-python lib. After messing around for a bit, it became obvious to me that every event added to the generic .evolution/tasks/local/system/calendar.ics file gets automatically synched with GNOME clock ..." />

        <meta property="og:site_name" content="Journal of an Open Sourcee" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="Sync BillReminder with GNOME clock"/>
        <meta property="og:url" content="https://omaciel.github.io/sync-billreminder-with-gnome-clock.html"/>
        <meta property="og:description" content="In an attempt to integrate BillReminder to the GNOME clock, I set out to learn about the evolution-python lib. After messing around for a bit, it became obvious to me that every event added to the generic .evolution/tasks/local/system/calendar.ics file gets automatically synched with GNOME clock ..."/>
        <meta property="article:published_time" content="2007-09-13" />
            <meta property="article:section" content="English" />
            <meta property="article:tag" content="english" />
            <meta property="article:author" content="Og Maciel" />


    <!-- Bootstrap -->
        <link rel="stylesheet" href="https://omaciel.github.io/theme/css/bootstrap.united.min.css" type="text/css"/>
    <link href="https://omaciel.github.io/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="https://omaciel.github.io/theme/css/pygments/native.css" rel="stylesheet">
    <link rel="stylesheet" href="https://omaciel.github.io/theme/css/style.css" type="text/css"/>

        <link href="https://omaciel.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="Journal of an Open Sourcee ATOM Feed"/>
        <link href="https://omaciel.github.io/feeds.rss" type="application/rss+xml" rel="alternate"
              title="Journal of an Open Sourcee RSS Feed"/>

</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="https://omaciel.github.io/" class="navbar-brand">
Journal of an Open Sourcee            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                        <li class="active">
                            <a href="https://omaciel.github.io/category/english.html">English</a>
                        </li>
                        <li >
                            <a href="https://omaciel.github.io/category/portuguese.html">Portuguese</a>
                        </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="https://omaciel.github.io/archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-sm-9">

    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="https://omaciel.github.io/sync-billreminder-with-gnome-clock.html"
                       rel="bookmark"
                       title="Permalink to Sync BillReminder with GNOME clock">
                        Sync BillReminder with GNOME clock
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2007-09-13T23:30:00-04:00"> Thu 13 September 2007</time>
    </span>



<span class="label label-default">Tags</span>
	<a href="https://omaciel.github.io/tag/english.html">english</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <p>In an attempt to integrate <a class="reference external" href="http://billreminder.sf.net">BillReminder</a>
to the GNOME clock, I set out to learn about the
<a class="reference external" href="http://www.conduit-project.org/wiki/evolution-python">evolution-python</a>
lib. After messing around for a bit, it became obvious to me that every
event added to the generic .evolution/tasks/local/system/calendar.ics
file gets automatically synched with GNOME clock. The thing is, I want
to create my own separate calendar file, so to not get it mixed with the
generic one. The code below does just that, but… it doesn’t show up in
GNOME clock!</p>
<p>I was wondering if anyone out there knows how to achieve my objective?
Is there a proper place where calendar events files need to be saved?
Any feedback will be appreciated.</p>
<hr class="docutils" />
<div class="section" id="coding-utf-8">
<h2>-<em>- coding: utf-8 -</em>-</h2>
<p>import sys</p>
<p>import evolution import vobject import datetime import time</p>
<p>class Evolutionizer(object):</p>
</div>
<div class="section" id="uses-the-default-calendar">
<h2>Uses the default calendar</h2>
<p>source = “/home/omaciel/.evolution/calendar/local/billreminder/”</p>
<p>def add_event(self, summary, start=None, end=None, description=None):
“”” Add a new event to the main calendar, and return the uid for the
event. “”” vcal = self._create_vcal(summary, start, end, description)
ecalcomp = evolution.ECalComponent(evolution.CAL_COMPONENT_EVENT,
vcal.vevent.serialize())</p>
<p>return self.calendar.add_object(ecalcomp)</p>
<p>def _create_vcal(self, summary, start=None, end=None,
description=None): cal = vobject.iCalendar() cal.add(‘vevent’)</p>
</div>
<div class="section" id="this-is-what-gets-displayed-in-the-calendar">
<h2>This is what gets displayed in the calendar</h2>
<p>cal.vevent.add(‘summary’).value = summary</p>
</div>
<div class="section" id="defaults-to-todays-date-if-none-is-provided">
<h2>Defaults to today’s date if none is provided</h2>
<p>if not start: start = datetime.datetime.today()</p>
</div>
<div class="section" id="defaults-to-start-if-none-is-provided">
<h2>Defaults to start if none is provided</h2>
<p>if not end: end = start</p>
</div>
<div class="section" id="set-start-and-end-date-time">
<h2>Set start and end date/time</h2>
<p>cal.vevent.add(‘dtstart’).value = start cal.vevent.add(‘dtend’).value =
end</p>
</div>
<div class="section" id="set-a-more-detailed-description-if-provided">
<h2>Set a more detailed description if provided</h2>
<p>if description: cal.vevent.add(‘description’).value = description</p>
<p>return cal</p>
<p>def <strong>init</strong>(self): self.calendar =
evolution.open_calendar_source_new_with_absolute_uri(‘Bills’,
self.source, evolution.CAL_SOURCE_TYPE_EVENT)</p>
<p>if <strong>name</strong> == “<strong>main</strong>”: a = Evolutionizer() a.add_event(“TriLUG
tonight”)</p>
</div>

            </div>
            <!-- /.entry-content -->
    <hr/>
    <section class="comments" id="comments">
        <h2>Comments</h2>

        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'journalofanopensourcee'; // required: replace example with your forum shortname

                    var disqus_identifier = 'sync-billreminder-with-gnome-clock';
                var disqus_url = 'https://omaciel.github.io/sync-billreminder-with-gnome-clock.html';

            var disqus_config = function () {
                this.language = "en";
            };

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
            Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </section>
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>

<section class="well well-sm">
    <ul class="list-group list-group-flush">
            <li class="list-group-item"><h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Social</span></h4>
              <ul class="list-group" id="social">
                <li class="list-group-item"><a href="https://github.com/omaciel"><i class="fa fa-github-square fa-lg"></i> GitHub</a></li>
                <li class="list-group-item"><a href="https://twitter.com/OgMaciel"><i class="fa fa-twitter-square fa-lg"></i> Twitter</a></li>
                <li class="list-group-item"><a href="http://www.linkedin.com/pub/og-maciel/7/425/257/"><i class="fa fa-linkedin-square fa-lg"></i> LinkedIn</a></li>
                <li class="list-group-item"><a href="https://www.goodreads.com/user/show/12048315-og-maciel"><i class="fa fa-goodreads-square fa-lg"></i> GoodReads</a></li>
                <li class="list-group-item"><a href="http://instagram.com/ogmaciel"><i class="fa fa-instagram-square fa-lg"></i> Instagram</a></li>
              </ul>
            </li>



            <li class="list-group-item"><a href="https://omaciel.github.io/"><h4><i class="fa fa-tags fa-lg"></i><span class="icon-label">Tags</span></h4></a>
                <ul class="list-group " id="tags">
                </ul>
            </li>
    </ul>
</section>
            </aside>
        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2015 Og Maciel
            &middot; Powered by <a href="https://github.com/DandyDev/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="https://omaciel.github.io/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="https://omaciel.github.io/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="https://omaciel.github.io/theme/js/respond.min.js"></script>

    <!-- Disqus -->
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'journalofanopensourcee'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <!-- End Disqus Code -->

</body>
</html>